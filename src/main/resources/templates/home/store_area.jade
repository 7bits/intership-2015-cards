doctype html
html
     head
          meta(charset='utf-8')
          title Store Area
          // BOOTSTRAP
          script(src='http://code.jquery.com/jquery-latest.js')
          script(src='/resources/scripts/bootstrap.js')
          link(href='/resources/stylesheets/bootstrap.min.css', rel='stylesheet')
          script(src='http://code.jquery.com/jquery-latest.js')
          script(src='/resources/scripts/jquery-1.9.1.js')
          script(src='/resources/scripts/bootstrap.js')
          link(href='/resources/stylesheets/bootstrap.min.css', rel='stylesheet')
          script(src='/resources/scripts/modernizr.custom.js')
          link(rel='stylesheet', type='text/css', href='/resources/stylesheets/normalize.css')
          link(rel='stylesheet', type='text/css', href='/resources/stylesheets/component.css')
          link(rel='stylesheet', type='text/css', href='/resources/stylesheets/content.css')
          meta(name="_csrf", content="#{_csrf.token}")
          meta(name="_csrf_header", content="#{_csrf.headerName}")
          // BOOTSTRAP END
          link(href='/resources/stylesheets/header.css', rel='stylesheet')
          link(href='/resources/stylesheets/style.css', rel='stylesheet')
          link(href='/resources/stylesheets/storestyle.css', rel='stylesheet')
     body
          // HEADER
          .header_container
               .header
                    .header-image
                    .header-buttons
                         .log-button.morph-button.morph-button-modal.morph-button-modal-2.morph-button-fixed
                              button(type='button') Выход
                              .morph-content
                                   .content-style-form.content-style-form-1
                                        span.icon.icon-close Закрыть окно
                                        h2 Выйти?
                                        form
                                             .morph-in-button
                                                  button(onclick="window.location.href='homepage.html'") Да
                                                  button.no Нет
                         // morph-button
                         #js_info_button.info-button(tabindex='1')
                              | Информация
                              ul.dropdown
                                   li
                                        a(href='#') О проекте
                                   li
                                        a(href='#') Разработчики
                                   li
                                        a(href='#') Поддержка
          // HEADER END
          // MAIN
          .main
               // <div class="homepage_describe">123</div>
               .generation-repayment-container
                    .tabs
                         ul.nav.nav-pills
                              li.active
                                   a(data-toggle='tab', href='#repaymentSection') Использовать скидку
                              li
                                   a(data-toggle='tab', href='#generateSection') Сгенерировать скидки
                    .tab-content
                         #repaymentSection.repayment-block.tab-pane.fade.in.active
                              h3
                                   | ИСПОЛЬЗОВАТЬ СКИДКУ
                                   p
                                        label Ключ
                                        br
                                        form(action="/use_discount", method="post")
                                             input(type="hidden", name="#{_csrf.parameterName}", value="#{_csrf.token}")
                                             input.generate-input(type='text', name="uin")
                                             input(type="submit", value="Использовать")
                         #generateSection.generate-discount-block.tab-pane.fade
                              h3
                                   | СГЕНЕРИРОВАТЬ СКИДКУ
                                   p
                                        label Введите процент скидки
                                        input.generate-input(type='text')
                                   p
                                        label Введите количество скидок
                                        input.generate-input(type='text')
                                   p
                                        label Введите UserId покупателей
                                        input.generate-input(type='text')
                                   a(href='#')
                                        .generate-ok
                                             | СГЕНЕРИРОВАТЬ
               // MAIN END
               // SCRIPTS
               script(src='/resources/scripts/classie.js')
               script(src='/resources/scripts/uiMorphingButton_fixed.js')
               script.
                    (function () {
                         var docElem = window.document.documentElement, didScroll, scrollPosition;
                         // trick to prevent scrolling when opening/closing button
                         function noScrollFn() {
                              window.scrollTo(scrollPosition ? scrollPosition.x : 0, scrollPosition ? scrollPosition.y : 0);
                         }

                         function noScroll() {
                              window.removeEventListener('scroll', scrollHandler);
                              window.addEventListener('scroll', noScrollFn);
                         }

                         function scrollFn() {
                              window.addEventListener('scroll', scrollHandler);
                         }

                         function canScroll() {
                              window.removeEventListener('scroll', noScrollFn);
                              scrollFn();
                         }

                         function scrollHandler() {
                              if (!didScroll) {
                                   didScroll = true;
                                   setTimeout(function () {
                                        scrollPage();
                                   }, 60);
                              }
                         };
                         function scrollPage() {
                              scrollPosition = {
                                   x: window.pageXOffset || docElem.scrollLeft,
                                   y: window.pageYOffset || docElem.scrollTop
                              };
                              didScroll = false;
                         };
                         scrollFn();
                         [].slice.call(document.querySelectorAll('.morph-button')).forEach(function (bttn) {
                              new UIMorphingButton(bttn, {
                                   closeEl: '.icon-close',
                                   onBeforeOpen: function () {
                                        // don't allow to scroll
                                        noScroll();
                                   },
                                   onAfterOpen: function () {
                                        // can scroll again
                                        canScroll();
                                   },
                                   onBeforeClose: function () {
                                        // don't allow to scroll
                                        noScroll();
                                   },
                                   onAfterClose: function () {
                                        // can scroll again
                                        canScroll();
                                   }
                              });
                         });
                         [].slice.call(document.querySelectorAll('.morph-button')).forEach(function (bttn) {
                              new UIMorphingButton(bttn, {
                                   closeEl: '.no',
                                   onBeforeOpen: function () {
                                        // don't allow to scroll
                                        noScroll();
                                   },
                                   onAfterOpen: function () {
                                        // can scroll again
                                        canScroll();
                                   },
                                   onBeforeClose: function () {
                                        // don't allow to scroll
                                        noScroll();
                                   },
                                   onAfterClose: function () {
                                        // can scroll again
                                        canScroll();
                                   }
                              });
                         });
                         // for demo purposes only
                         [].slice.call(document.querySelectorAll('form button')).forEach(function (bttn) {
                              bttn.addEventListener('click', function (ev) {
                                   ev.preventDefault();
                              });
                         });
                    })();
               script.
                    $(function () {
                         $('#myTabExample a:first').tab('show')
                    });
               script(type='text/javascript').
                    function DropDown(el) {
                         this.dd = el;
                         this.initEvents();
                    }
                    DropDown.prototype = {
                         initEvents: function () {
                              var obj = this;
                              obj.dd.on('click', function (event) {
                                   $(this).toggleClass('active');
                                   event.stopPropagation();
                              });
                         }
                    }
                    $(function () {
                         var js_info_button = new DropDown($('#js_info_button'));
                         $(document).click(function () {
                              // all dropdowns
                              $('.info-button').removeClass('active');
                         });
                    });
               // SCRIPTS
                                