doctype html
html
     head
          meta(charset='utf-8')
          title Личный кабинет
          // BOOTSTRAP
          script(src='http://code.jquery.com/jquery-latest.js')
          script(src='/resources/scripts/jquery-1.9.1.js')
          script(src='/resources/scripts/bootstrap.js')
          link(href='/resources/stylesheets/bootstrap.min.css', rel='stylesheet')
          link(rel='shortcut icon', href='/resources/img/favicon.png', type="image/png")
          script(src='/resources/scripts/modernizr.custom.js')
          link(rel='stylesheet', type='text/css', href='/resources/stylesheets/normalize.css')
          link(rel='stylesheet', type='text/css', href='/resources/stylesheets/component.css')
          meta(name="_csrf", content="#{_csrf.token}")
          meta(name="_csrf_header", content="#{_csrf.headerName}")
          script(src='/resources/scripts/search.js')
          // BOOTSTRAP END
          link(href='/resources/stylesheets/style.css', rel='stylesheet')
          link(rel='stylesheet', type='text/css', href='/resources/stylesheets/content.css')
          link(rel='stylesheet', type='text/css', href='/resources/stylesheets/header.css')
          link(rel='stylesheet', type='text/css', href='/resources/stylesheets/searchstyle.css')
     body
          // HEADER
          .header_container
               .header
                    .header-image
                    .header-buttons
                         .log-button.morph-button.morph-button-modal.morph-button-modal-2.morph-button-fixed
                              form(action="/logout", method="post")
                                   input(type="hidden", name="#{_csrf.parameterName}", value="#{_csrf.token}")
                                   input.exit-button(type='submit',value='Выход')
                              .morph-content
                                   .content-style-form.content-style-form-1
                                        .morph-in-button
                                             button magicbuttonwhichishidden
                         // morph-button
                         #js_info_button.info-button(tabindex='1')
                              | Информация
                              ul.dropdown
                                   li
                                        a(href='#') О проекте
                                   li
                                        a(href='#') Разработчики
                                   li
                                        a(href='#') Поддержка
     p
          a.reg-href(href="add_discount")
               .registrarion-btn
                    Добавить скидку
     p
          a.reg-href(href="discounts")
               .registrarion-btn
                    Отобразить все скидки
     p
          a.reg-href(href="add_store")
               .registrarion-btn
                    Добавить магазин
          // MAIN END
          // SCRIPTS
          script(src='/resources/scripts/classie.js')
          script(src='/resources/scripts/uiMorphingButton_fixed.js')
          script.
               (function() {
                    var docElem = window.document.documentElement, didScroll, scrollPosition;
                    // trick to prevent scrolling when opening/closing button
                    function noScrollFn() {
                         window.scrollTo( scrollPosition ? scrollPosition.x : 0, scrollPosition ? scrollPosition.y : 0 );
                    }
                    function noScroll() {
                         window.removeEventListener( 'scroll', scrollHandler );
                         window.addEventListener( 'scroll', noScrollFn );
                    }
                    function scrollFn() {
                         window.addEventListener( 'scroll', scrollHandler );
                    }
                    function canScroll() {
                         window.removeEventListener( 'scroll', noScrollFn );
                         scrollFn();
                    }
                    function scrollHandler() {
                         if( !didScroll ) {
                              didScroll = true;
                              setTimeout( function() { scrollPage(); }, 60 );
                         }
                    };
                    function scrollPage() {
                         scrollPosition = { x : window.pageXOffset || docElem.scrollLeft, y : window.pageYOffset || docElem.scrollTop };
                         didScroll = false;
                    };
                    scrollFn();
                    [].slice.call( document.querySelectorAll( '.morph-button' ) ).forEach( function( bttn ) {
                         new UIMorphingButton( bttn, {
                              closeEl : '.icon-close',
                              onBeforeOpen : function() {
                                   // don't allow to scroll
                                   noScroll();
                              },
                              onAfterOpen : function() {
                                   // can scroll again
                                   canScroll();
                              },
                              onBeforeClose : function() {
                                   // don't allow to scroll
                                   noScroll();
                              },
                              onAfterClose : function() {
                                   // can scroll again
                                   canScroll();
                              }
                         } );
                    } );
                    [].slice.call( document.querySelectorAll( '.morph-button' ) ).forEach( function( bttn ) {
                         new UIMorphingButton( bttn, {
                              closeEl : '.no',
                              onBeforeOpen : function() {
                                   // don't allow to scroll
                                   noScroll();
                              },
                              onAfterOpen : function() {
                                   // can scroll again
                                   canScroll();
                              },
                              onBeforeClose : function() {
                                   // don't allow to scroll
                                   noScroll();
                              },
                              onAfterClose : function() {
                                   // can scroll again
                                   canScroll();
                              }
                         } );
                    } );
                    // for demo purposes only
                    [].slice.call( document.querySelectorAll( 'form button' ) ).forEach( function( bttn ) {
                         bttn.addEventListener( 'click', function( ev ) { ev.preventDefault(); } );
                    } );
               })();
          script.
               $(function() {
                    $('#myTabExample a:first').tab('show')
               });
          script(type='text/javascript').
               function DropDown(el) {
                    this.dd = el;
                    this.initEvents();
               }
               DropDown.prototype = {
                    initEvents : function() {
                         var obj = this;
                         obj.dd.on('click', function(event){
                              $(this).toggleClass('active');
                              event.stopPropagation();
                         });
                    }
               }
               $(function() {
                    var js_info_button = new DropDown( $('#js_info_button') );
                    $(document).click(function() {
                         // all dropdowns
                         $('.info-button').removeClass('active');
                    });
               });
